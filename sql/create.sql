CREATE TABLE IF NOT EXISTS "Materias" (

	"id" SERIAL NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,

	"Materia" VARCHAR(100) NOT NULL,

	"ProfessorId" INTEGER NOT NULL,

	PRIMARY KEY("id")

);
 
 
 
CREATE TABLE IF NOT EXISTS "Alunos" (

	"id" SERIAL NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,

	"Matricula" INTEGER NOT NULL,

	"Email" VARCHAR(150) NOT NULL,

	"Senha" VARCHAR(200) NOT NULL,

	PRIMARY KEY("id")

);
 
 
 
CREATE TABLE IF NOT EXISTS "Professores" (

	"id" SERIAL NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,

	"Nome" VARCHAR(100) NOT NULL,

	"Usuario" VARCHAR(100) NOT NULL,

	"Senha" VARCHAR(200) NOT NULL,

	PRIMARY KEY("id")

);
 
 
 
CREATE TABLE IF NOT EXISTS "AlunoMaterias" (

	"Id" SERIAL NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,

	"Nota1" INTEGER,

	"Nota2" INTEGER,

	"Observacao" TEXT,

	"MateriaId" INTEGER NOT NULL,

	"AlunoId" INTEGER NOT NULL,

	PRIMARY KEY("Id")

);
 
 
ALTER TABLE "Alunos"

ADD FOREIGN KEY("id") REFERENCES "AlunoMaterias"("AlunoId")

ON UPDATE NO ACTION ON DELETE NO ACTION;

ALTER TABLE "Materias"

ADD FOREIGN KEY("id") REFERENCES "AlunoMaterias"("MateriaId")

ON UPDATE NO ACTION ON DELETE NO ACTION;

ALTER TABLE "Professores"

ADD FOREIGN KEY("id") REFERENCES "Materias"("ProfessorId")

ON UPDATE NO ACTION ON DELETE NO ACTION;
 